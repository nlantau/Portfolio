/***************************************************************************
 * Lab 2 - Timers and Counter
 *         Timer1, CTC Mode
 *
 * Created: 2022-02-24
 * Updated: 2022-02-24
 * Author : nlantau
 **************************************************************************/

/***** Include guard ******************************************************/
#define F_CPU 16000000UL

/***** Include section ****************************************************/
#include <avr/io.h>

/***** Macro Definitions **************************************************/

/***** Function prototypes ************************************************/

/***** Constants **********************************************************/

/***** Variables **********************************************************/

/***** MAIN ***************************************************************/
int main(void)
{
	/* LED on pin D2*/
	DDRD |= (1 << PIND2);

	/* Timer 1, CTC Mode */
	TCCR1B |= (1 << WGM12);

	/* CTC Compare value */
	OCR1A = 15625;

	/*Timer at Fcpu/1024 */
	TCCR1B |= (1 << CS12) | (1 << CS10);

	for (;;) {
		if (TIFR1 & (1 << OCF1A)) {
			PORTD ^= (1 << PIND2);
			TIFR1 = (1 << OCF1A);
		}
	}

	return 0;

} /* End main() */


/* End main.c */

